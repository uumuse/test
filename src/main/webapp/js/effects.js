function ws_carousel(t,e,n){function i(n,i){for(var a=0;n>a;a++){for(var r=i?e.length-n+a:a;0>r;)r+=n-e.length;for(;r>e.length-1;)r-=n-e.length;I.push({item:c("<div>").append(c(e[r]).clone().css({outline:"1px solid transparent"})).css({position:"absolute",overflow:"hidden",top:0,left:0,width:"100%",height:"100%"}).appendTo(x),id:r}),t.images&&w.push(!t.images[r].noimage)}}function a(){var t=c(e[0]);t={width:t.width(),height:t.height(),marginTop:parseFloat(t.css("marginTop")),marginLeft:parseFloat(t.css("marginLeft"))};for(var n in I)I[n].item&&c(I[n].item).find("img").css(t)}function r(t){t*=-1;var e=[];for(var n in I){var i=v-n;e.push(i!=t?t-i:0)}return e}function s(t,e,n,i){wowAnimate(function(n){u(t,e,n)},0,1,n,i)}function o(t,e,n){return t+(e-t)*n}function f(e,n){e.css(t.support.transform?{transform:"scale("+n.scale+") translate3d("+n.offset+"%,0,0) rotateY("+n.rotate+"deg)",zIndex:n.zIndex}:{left:100*(1-n.scale)/2+.85*n.offset+"%",top:100*(1-n.scale)/2+"%",width:100*n.scale+"%"})}function u(t,e,n,i){i||(n=c.easing.easeInOutQuart(1,n,0,1,1,1));for(var a in t){var r=o(t[a],e[a],n)*m,s=l/100,u=0,d=t[a]*(t[a]>0?-1:1),g=r>0?-1:1;n>.5&&(d=e[a]*(e[a]>0?-1:1)),0===t[a]&&(s=o(h,l,n)/100,u=o(0,g*p,n)),0===e[a]&&(s=o(l,h,n)/100,u=o(g*p,0,n)),0!==e[a]&&0!==t[a]&&(u=g*p),f(I[a].item,{scale:s,offset:r,rotate:u,zIndex:d})}}var c=jQuery,d=c(this),g=c(".ws_list",n).css("opacity",0),l=(/iPhone|iPod|iPad|Android|BlackBerry/.test(navigator.userAgent),e.length,70),h=80,p=60,m=90,v=2,w=[],x=c("<div>").addClass("ws_effect ws_carousel").css({position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",perspective:2e3}).appendTo(n),I=[];i(v,!0),i(e.length),i(v);var y=r(t.startSlide);s(y,y,0),a(),c(window).on("load resize",a),this.go=function(n,i){function o(e){return e.find("img").attr("src",t.images[n].src)}if(a(),t.images&&!w[n+v]){var f=n+v;w[f]=!0,o(I[f].item),v>n&&o(I[I.length-n].item),n+v>=e.length&&o(I[n+v-e.length].item)}window.XMLHttpRequest?(i==e.length-1&&0==n&&(n=i+1),0==i&&n==e.length-1&&(n=-1),s(r(i),r(n),t.duration,function(){d.trigger("effectEnd")})):g.stop(!0).animate({left:n?-n+"00%":/Safari/.test(navigator.userAgent)?"0%":0},t.duration,"easeInOutExpo",function(){d.trigger("effectEnd")})},this.step=function(t,e){var n=t+(0>e?1:-1);0>e&&(e*=-1),u(r(t),r(n),e,!0)}}jQuery.extend(jQuery.easing,{easeInOutQuart:function(t,e,n,i,a){return(e/=a/2)<1?i/2*e*e*e*e+n:-i/2*((e-=2)*e*e*e-2)+n}});
function ws_fade(t,e,o){var i=jQuery,n=i(this),s=(i(".ws_list",o),{position:"absolute",left:0,top:0,width:"100%",height:"100%",maxHeight:"none",maxWidth:"none",transform:"translate3d(0,0,0)"}),a=i("<div>").addClass("ws_effect ws_fade").css(s).css("overflow","hidden").appendTo(o);this.go=function(o,c){var d=i(e.get(o)),r={width:d.width(),height:d.height()};if(d=d.clone().css(s).css(r).appendTo(a),!t.noCross){var f=i(e.get(c)).clone().css(s).css(r).appendTo(a);wowAnimate(f,{opacity:1},{opacity:0},t.duration,function(){f.remove()})}wowAnimate(d,{opacity:0},{opacity:1},t.duration,function(){n.trigger("effectEnd"),d.remove()})}}
function ws_seven(t,e,i){function a(t,e){return Math.abs((e%2?1:0)+(e-e%2)/2-t)/e}function n(t,e,i,a){var n=e>=a?a/e:1,o=t>=i?i/t:1;return{l:o,t:n,m:Math.min(o,n)}}function o(t,e){var i=0;for(var a in t)(function(t,a){var n=a[t];wowAnimate(n.item,n.begin,n.end,n.duration,n.delay,n.easing,function(){n.callback&&n.callback(),i++,i==a.length&&e&&e()})})(a,t)}function r(e,i,r,s,h){var d=M.width(),g=M.height(),u=f*d/c,m=f*g/p,v=w*(s?4:5)/(c*p),x=s?"easeInExpo":"easeOutQuart",b=I.h+I.t-g/p,T=I.w+I.l-d/c,z=M.offset().top+M.height(),C=M.offset().left+M.width();z>b&&(b=z),C>T&&(T=C);var L=[];return l(e).each(function(e){var i=e%c,o=Math.floor(e/c),h=.2*w*(45*a(i,c)+4*o)/(c*p),y=M.offset().left+I.l+u*i-d*f/2+u,z=M.offset().top+I.t+m*o-g*f/2+m,C=n(y,z,T,b);if(t.support.transform){var E={opacity:1,translate:[d*i/c,g*o/p,0],scale:1,width:d/c,height:g/p,zIndex:Math.ceil(100-100*a(i,c))},_={opacity:0,translate:[(u*i-d*f/2.115)*C.l,(m*o-g*f/2.115)*C.t,0],scale:f*C.m,width:d/c,height:g/p,zIndex:Math.ceil(100-100*a(i,c))};l(this).find("img").css({transform:"translate3d("+(-d*i/c+r.marginLeft)+"px,"+(-g*o/p+r.marginTop)+"px,0px)",width:r.width,height:r.height})}else var E={opacity:1,left:d*i/c,top:g*o/p,width:d/c,height:g/p,zIndex:Math.ceil(100-100*a(i,c))},_={opacity:0,left:(u*i-d*f/2)*C.l,top:(m*o-g*f/2)*C.t,width:u*C.m,height:m*C.m},k={left:-(d*i/c)+r.marginLeft,top:-(g*o/p)+r.marginTop,width:r.width,height:r.height},Q={left:-f*(d/c*i-r.marginLeft)*C.m,top:-f*(g/p*o-r.marginTop)*C.m,width:f*r.width*C.m,height:f*r.height*C.m};if(!s){var O=E;E=_,_=O,O=k,k=Q,Q=O}L.push({item:l(this).show(),begin:E,end:_,easing:x,delay:h,duration:v,callback:s?function(){this.item.hide()}:0}),k&&L.push({item:l(this).find("img"),begin:k,end:Q,easing:x,delay:h,duration:v})}),s&&(l(i).each(function(e){var i=e%c,n=Math.floor(e/c),o=.2*w+.15*w*(35*a(i,c)+4*n)/(c*p),s=4*w/(c*p);if(t.support.transform){var h={opacity:0,translate:[d/2,g/2,0],scale:0,width:d/c,height:g/p,zIndex:Math.ceil(100-100*a(i,c))},f={opacity:1,translate:[d*i/c,g*n/p,0],scale:1,width:d/c,height:g/p,zIndex:Math.ceil(100-100*a(i,c))};l(this).find("img").css({transform:"translate3d("+(-d*i/c+r.marginLeft)+"px,"+(-g*n/p+r.marginTop)+"px,0px)",width:r.width,height:r.height})}else var h={left:d/2,top:g/2,width:0,height:0,zIndex:Math.ceil(100-100*a(i,c))},f={left:d*i/c,top:g*n/p,width:d/c,height:g/p},u={left:0,top:0,width:0,height:0},m={left:-d*i/c+r.marginLeft,top:-g*n/p+r.marginTop,width:r.width,height:r.height};L.push({item:l(this),begin:h,end:f,easing:"easeOutBack",delay:o,duration:s}),u&&L.push({item:l(this).find("img"),begin:u,end:m,easing:"easeOutBack",delay:o,duration:s})}),y.delay(.1*w).animate({opacity:1},.2*w,"easeInCirc")),o(L,h),{stop:function(){h()}}}function s(t,e,i,a){var n=(parseInt(t.parent().css("z-index"))||0)+1;if(b){var o=a.getContext("2d");return o.drawImage(t.get(0),0,0,e.width,e.height),h(o,0,0,a.width,a.height,i)?l(a):0}for(var r=l("<div></div>").css({position:"absolute","z-index":n,left:0,top:0,overflow:"hidden"}).css(e).appendTo(v),s=(Math.sqrt(5)+1)/2,d=1-s/2,g=0;i>d*g;g++){var f=Math.PI*s*g,c=d*g+1,p=c*Math.cos(f),w=c*Math.sin(f);l(document.createElement("img")).attr("src",t.attr("src")).css({opacity:1/(g/1.8+1),position:"absolute","z-index":n,left:Math.round(p)+"px",top:Math.round(w)+"px",width:"100%",height:"100%"}).appendTo(r)}return r}function h(t,e,i,a,n,o){if(!(isNaN(o)||1>o)){o|=0;var r;try{r=t.getImageData(e,i,a,n)}catch(s){return console.log("error:unable to access image data: "+s),!1}var h,l,g,f,c,p,w,u,m,v,x,b,M,y,I,T,z,C,L,E,Q=r.data,O=o+o+1,j=a-1,D=n-1,q=o+1,B=q*(q+1)/2,F=new d,N=F;for(g=1;O>g;g++)if(N=N.next=new d,g==q)var A=N;N.next=F;var P=null,G=null;w=p=0;var H=_[o],J=k[o];for(l=0;n>l;l++){for(y=I=T=u=m=v=0,x=q*(z=Q[p]),b=q*(C=Q[p+1]),M=q*(L=Q[p+2]),u+=B*z,m+=B*C,v+=B*L,N=F,g=0;q>g;g++)N.r=z,N.g=C,N.b=L,N=N.next;for(g=1;q>g;g++)f=p+((g>j?j:g)<<2),u+=(N.r=z=Q[f])*(E=q-g),m+=(N.g=C=Q[f+1])*E,v+=(N.b=L=Q[f+2])*E,y+=z,I+=C,T+=L,N=N.next;for(P=F,G=A,h=0;a>h;h++)Q[p]=u*H>>J,Q[p+1]=m*H>>J,Q[p+2]=v*H>>J,u-=x,m-=b,v-=M,x-=P.r,b-=P.g,M-=P.b,f=w+((f=h+o+1)<j?f:j)<<2,y+=P.r=Q[f],I+=P.g=Q[f+1],T+=P.b=Q[f+2],u+=y,m+=I,v+=T,P=P.next,x+=z=G.r,b+=C=G.g,M+=L=G.b,y-=z,I-=C,T-=L,G=G.next,p+=4;w+=a}for(h=0;a>h;h++){for(I=T=y=m=v=u=0,p=h<<2,x=q*(z=Q[p]),b=q*(C=Q[p+1]),M=q*(L=Q[p+2]),u+=B*z,m+=B*C,v+=B*L,N=F,g=0;q>g;g++)N.r=z,N.g=C,N.b=L,N=N.next;for(c=a,g=1;o>=g;g++)p=c+h<<2,u+=(N.r=z=Q[p])*(E=q-g),m+=(N.g=C=Q[p+1])*E,v+=(N.b=L=Q[p+2])*E,y+=z,I+=C,T+=L,N=N.next,D>g&&(c+=a);for(p=h,P=F,G=A,l=0;n>l;l++)f=p<<2,Q[f]=u*H>>J,Q[f+1]=m*H>>J,Q[f+2]=v*H>>J,u-=x,m-=b,v-=M,x-=P.r,b-=P.g,M-=P.b,f=h+((f=l+q)<D?f:D)*a<<2,u+=y+=P.r=Q[f],m+=I+=P.g=Q[f+1],v+=T+=P.b=Q[f+2],P=P.next,x+=z=G.r,b+=C=G.g,M+=L=G.b,y-=z,I-=C,T-=L,G=G.next,p+=a}return t.putImageData(r,e,i),!0}}function d(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var l=jQuery,g=l(this),f=t.distance||5,c=t.cols,p=t.rows,w=2*t.duration,u=t.blur||50,m=(i.find(".ws_list"),l("<div>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%"})),v=m.clone().css("overflow","hidden");m.addClass("ws_effect ws_seven");var x,b=!t.noCanvas&&!window.opera&&!!document.createElement("canvas").getContext,M=l("<div>").addClass("ws_parts").css({position:"absolute",width:"100%",height:"100%",left:0,top:0,zIndex:8,transform:"translate3d(0,0,0)"}),y=l("<div>").addClass("ws_zoom").css({position:"absolute",width:"100%",height:"100%",top:0,left:0,zIndex:2,transform:"translate3d(0,0,0)"});m.append(M,y,v).appendTo(i);var I={t:l(window).scrollTop(),l:l(window).scrollLeft(),w:l(window).width(),h:l(window).height()},T=Math.max((t.width||M.width())/(t.height||M.height())||3,3);c=c||Math.round(1>T?3:3*T),p=p||Math.round(1>T?3/T:3);for(var z=[],C=[],L=0;c*p>L;L++){{Math.floor(L/c)}l(z[L]=l("<div>")[0]).css({position:"absolute",overflow:"hidden",transform:"translate3d(0,0,0)"}).appendTo(M).append(l("<img>").css({position:"absolute",transform:"translate3d(0,0,0)"})),l(C[L]=l("<div>")[0]).css({position:"absolute",overflow:"hidden",transform:"translate3d(0,0,0)"}).appendTo(y).append(l("<img>").css({position:"absolute",transform:"translate3d(0,0,0)"}))}z=l(z),C=l(C),jQuery.extend(jQuery.easing,{easeOutQuart:function(t,e,i,a,n){return-a*((e=e/n-1)*e*e*e-1)+i},easeInExpo:function(t,e,i,a,n){return 0==e?i:a*Math.pow(2,10*(e/n-1))+i},easeInCirc:function(t,e,i,a,n){return-a*(Math.sqrt(1-(e/=n)*e)-1)+i}});var E;this.go=function(t,i,a){if(E)return i;void 0==a&&(a=0==i&&t!=i+1||t==i-1?!1:!0),I.t=l(window).scrollTop(),I.l=l(window).scrollLeft(),I.w=l(window).width(),I.h=l(window).height();var n=l(e.get(i));n={width:n.width(),height:n.height(),marginTop:parseFloat(n.css("marginTop")),marginLeft:parseFloat(n.css("marginLeft"))},z.find("img").attr("src",e.get(a?i:t).src),C.find("img").attr("src",e.get(t).src),M.show(),a&&y.show();var o=0;if(a){if(b){try{document.createElement("canvas").getContext("2d").getImageData(0,0,1,1)}catch(h){b=0}x='<canvas width="'+m.width+'" height="'+m.height+'"/>',x=l(x).css({"z-index":1,position:"absolute",left:0,top:0}).css(n).appendTo(v),o=s(l(e.get(i)),n,u,x.get(0))}b&&o||(b=0,o=s(l(e.get(i)),n,8),x&&(x.remove(),x=0))}E=new r(z,C,n,a,function(){g.trigger("effectEnd"),M.hide(),y.hide(),x?x.remove():o&&o.remove(),E=0})};var _=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],k=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24]}
function ws_louvers(t,e,a){function n(a){for(var n={},i=e.get(a),r=t.width/h,o=t.height,d=0;h>d;d++){var a=d%h,f=Math.floor(d/h);n[d]=s(i,{x:a*r,y:f*o,w:r,h:o})}return n}function i(t,e,a,n,i){for(var r in e)"function"!=typeof u[r]&&(e[r].topEdge.css({width:n,height:t,background:a[r],transform:"rotateX(90deg) translate3d(0,-"+t/2+"px,"+t/2+"px)"}),e[r].bottomEdge.css({width:n,height:t,background:a[r],transform:"rotateX(90deg) translate3d(0,-"+t/2+"px,"+(-i+t/2)+"px)"}),e[r].leftEdge.css({width:t,height:i,background:a[r],transform:"rotateY(90deg) translate3d("+t/2+"px,0,-"+t/2+"px)"}),e[r].rightEdge.css({width:t,height:i,background:a[r],transform:"rotateY(90deg) translate3d("+t/2+"px,0,"+(n-t/2)+"px)"}))}function r(t,e){var a=0;for(var n in t)"function"!=typeof t[n]&&function(t,n){wowAnimate(function(e){var a,i,r,o="",s={};.5>=e?(a=d.easing.easeInBack(1,2*e,0,1,1,1).toFixed(3),i=d.easing.easeInBackQ(1,2*e,0,1,1,1).toFixed(3),r=d.easing.easeInBackQ2(1,2*e,0,1,1,1).toFixed(3),n[t].back.css("backfaceVisibility","hidden")):(a=d.easing.easeOutBack(1,2*(e-.5),0,1,1,1).toFixed(3),i=d.easing.easeOutBackQ(1,2*(e-.5),0,1,1,1).toFixed(3),r=d.easing.easeOutBackQ2(1,2*(e-.5),0,1,1,1).toFixed(3),n[t].back.css("backfaceVisibility","visible"));for(var f in n[t].animate[.5>=e?"half":"end"]){var h=n[t].animate[.5>=e?"begin":"half"][f]||0,c=n[t].animate[.5>=e?"half":"end"][f]||0;"object"!=typeof c&&(c="scale"===f||"rotateX"===f||"rotateY"===f?h+(c-h)*i:"left"===f||"top"===f?h+(c-h)*r:h+(c-h)*a),"rotateX"===f||"rotateY"===f||"rotateZ"===f?o+=f+"("+c+"deg) ":"scale"===f?o+=f+"("+c+") ":"translate3d"===f?o+=f+"("+(h[0]+(c[0]-h[0])*a).toFixed(3)+"px,"+(h[1]+(c[1]-h[1])*a).toFixed(3)+"px,"+(h[2]+(c[2]-h[2])*a).toFixed(3)+"px) ":s[f]=c}n[t].wrapper.css({transform:"translate3d("+(s.left?s.left:0).toFixed(3)+"px,"+(s.top?s.top:0).toFixed(3)+"px,0)"}),delete s.left,delete s.top,o&&(s.transform=o),n[t].part.css(s)},0,1,n[t].animate.duration,n[t].animate.delay,function(){a++,a==n.length&&e&&e()})}(n,t)}function o(e,n,o,s){var d=a.width(),f=a.height(),c=d/h,l=f,p=.4*t.duration>1e3?1e3:.4*t.duration,g=.6*t.duration,u=[0,0];i(m,e,v[n],c,l),w.css({transformOrigin:d/2+"px "+f/2+"px 0",width:d,height:f});for(var b in e)if("function"!=typeof e[b]){var k=y[b].delay*p;u[1]<=k&&(u[0]=b,u[1]=k),e[b].part[0].ws_delay=[k,0]}e[u[0]].part[0].ws_delay[1]=1;for(var b in e)if("function"!=typeof e[b]){{var _=e[b];Math.floor(b/h)}_.animate={delay:_.part[0].ws_delay[0],duration:g,begin:{left:0,top:0,width:c,height:l,scale:1,rotateX:0,rotateY:0,translate3d:[0,0,x?m:0]},half:{left:y[b].halfLeft*c,top:y[b].halfTop*l,scale:y[b].halfScale,rotateX:y[b].rotateX/2,rotateY:y[b].rotateY/2,translate3d:[0,0,(x?1:.5)*m]},end:{left:0,top:0,scale:1,rotateX:y[b].rotateX,rotateY:y[b].rotateY,translate3d:[0,0,m]}},_.front.find("img").css(o),_.back.css("backfaceVisibility","hidden").find("img").css(o),_.part.css({width:_.animate.begin.width,height:_.animate.begin.height,left:_.animate.begin.left,top:_.animate.begin.top})}r(e,s)}function s(t,e){e=e||{};{var a,n=1,i=e.exclude||[],r=document.createElement("canvas"),o=r.getContext("2d");r.width=t.naturalWidth,r.height=t.naturalHeight}o.drawImage(t,0,0,t.naturalWidth,t.naturalHeight);try{a=o.getImageData(e.x?e.x:0,e.y?e.y:0,e.w?e.w:t.width,e.h?e.h:t.height).data}catch(s){return console.log("error:unable to access image data: "+s),"#ccc"}for(var d=(e.w?e.w:t.width*e.h?e.h:t.height)||a.length,f={},h="",c=[],l={dominant:{name:"",count:0}},p=0;d>p;){if(c[0]=a[p],c[1]=a[p+1],c[2]=a[p+2],h=c.join(","),f[h]=h in f?f[h]+1:1,-1===i.indexOf(["rgb(",h,")"].join(""))){var g=f[h];g>l.dominant.count&&(l.dominant.name=h,l.dominant.count=g)}p+=4*n}return["rgb(",l.dominant.name,")"].join("")}var d=jQuery,f=d(this),h=t.cols||10,c=2.5,l=2,p=t.perspective||2e3,g=a.find(".ws_list"),u=[],m=5,v={},w=d("<div>").addClass("ws_effect ws_louvers").appendTo(a),b=t.support.transform&&t.support.transition&&t.support.perspective,x=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/WOW Slider/g.test(navigator.userAgent),y=[];w.css({position:"absolute",top:0,left:0,width:a.width(),height:a.height(),transform:"translate3d(0,0,0)",transformOrigin:t.width/2+"px "+t.height/2+"px 0",perspective:p+2e3}).hide();for(var k=0;h>k;k++){var _=k%h,M=Math.floor(k/h),F=d("<div>").css({position:"absolute",left:100*_/h+"%",top:0,outline:"1px solid transparent",transformStyle:x?"flat":"preserve-3d",overflow:b?"visible":"hidden"}).appendTo(w),Y=d("<div>").css({transform:"scale(1) rotateX(0) rotateY(0) translate3d(0,0,0)",outline:"1px solid transparent",transformStyle:"preserve-3d"}).appendTo(F),B=d("<div>").addClass("ws_front_image").appendTo(Y),T=b?d("<div>").addClass("ws_back_image").appendTo(Y):0;B.css({position:"absolute",width:"100%",height:"100%",overflow:"hidden",backfaceVisibility:"hidden",transform:"translate3d(0,0,0)"}).append(d("<img>").css({left:100*-_+"%",top:100*-M+"%",position:"absolute",outline:"1px solid transparent"})),b&&T.css({position:"absolute",width:"100%",height:"100%",overflow:"hidden",backfaceVisibility:"hidden",transform:"rotateY(180deg) translate3d(0,0,"+m+"px)"}).append(d("<img>").css({left:100*-_+"%",top:100*-M+"%",position:"absolute",outline:"1px solid transparent"}));var E={position:"absolute",outline:"1px solid transparent"};u[k]={part:Y,front:B,back:T,wrapper:F,leftEdge:b?d("<div>").addClass("ws_left_edge").css(E).appendTo(Y):0,rightEdge:b?d("<div>").addClass("ws_right_edge").css(E).appendTo(Y):0,topEdge:b?d("<div>").addClass("ws_top_edge").css(E).appendTo(Y):0,bottomEdge:b?d("<div>").addClass("ws_bottom_edge").css(E).appendTo(Y):0}}var Q;this.go=function(i,r){function s(t,e){return Math.random()*(e-t+1)+t}if(Q)return r;w.show();var p=d(e.get(r));if(p={width:p.width(),height:p.height(),marginTop:parseFloat(p.css("marginTop")),marginLeft:parseFloat(p.css("marginLeft"))},y=function(){var t=[0,1],e=[1.2,.8],a=[.2,0,-.2],n=[180,-180];t=t[Math.floor(Math.random()*t.length)],e=e[Math.floor(Math.random()*e.length)],a=a[Math.floor(Math.random()*a.length)],n=n[Math.floor(Math.random()*n.length)];for(var i=h,r=[],o=t?0:i;t?i>=o:o>=0;t?o++:o--)r.push({zIndex:o-(t?i:0),rotateY:n,delay:o/i,halfScale:e,halfLeft:a});return r}(),b){u[0].front.find("img").on("load",function(){g.hide()});for(var m in u)"function"!=typeof u[m]&&(u[m].front.find("img").attr("src",e.get(r).src),u[m].back.find("img").attr("src",e.get(i).src));v[r]||(v[r]=n(r)),Q=new o(u,r,p,function(){g.show(),f.trigger("effectEnd"),w.hide();for(var t in u)"function"!=typeof u[t]&&u[t].part.css({transition:"",transform:"rotateX(0) rotateY(0) translate3d(0,0,0)"});Q=0})}else{Q=!0;var x=a.width(),k=a.height(),_=x/h,M=k;w.css({width:x,height:k});var F=0;for(var m in u){var Y=m%h,B=Math.floor(m/h);u[m].front.find("img").attr("src",e.get(i).src).css(p);var T=t.duration*(1-Math.abs((l*c-Y*B)/(2*h))),E=s(-1,1)>0?1:-1;u[m].wrapper.css({width:_,height:M}),u[m].part.css({position:"absolute",top:0,left:E*_,opacity:0,width:_,height:M}).animate({left:0,opacity:1},T,function(){F++,F==h&&(g.stop(1,1),Q=!1,f.trigger("effectEnd"))})}}}}jQuery.extend(jQuery.easing,{easeInBack:function(t,e,a,n,i,r){return void 0==r&&(r=1.70158),n*(e/=i)*e*((r+1)*e-r)+a},easeOutBack:function(t,e,a,n,i,r){return void 0==r&&(r=1.70158),n*((e=e/i-1)*e*((r+1)*e+r)+1)+a},easeInBackQ:function(t,e,a,n,i){var r=(e/=i)*e;return a+n*r*(4*e*r-8*r+8*e-3)},easeOutBackQ:function(t,e,a,n,i){var r=(e/=i)*e;return a+n*(4*r*e*r-12*r*r+16*r*e-13*r+6*e)},easeInBackQ2:function(t,e,a,n,i){var r=(e/=i)*e;return a+n*r*(1.5*e*r-2.5*r+5*e-3)},easeOutBackQ2:function(t,e,a,n,i){var r=(e/=i)*e;return a+n*(1.5*r*e*r-5*r*r+10*r*e-12*r+6.5*e)}});
function ws_book(e,t,i){function s(t,i,s,n,a,o,r,d,c,h,l){numSlices=a/2,widthScale=a/c,heightScale=(1-o)/numSlices,t.clearRect(0,0,l.width(),l.height());for(var p=0;numSlices+widthScale>p;p++){var f=r?p*e.width/a+e.width/2:(numSlices-p)*e.width/a,g=s+(r?2:-2)*p,u=n+h*heightScale*p/2;0>f&&(f=0),0>g&&(g=0),0>u&&(u=0),t.drawImage(i,f,0,2.5,e.height,g,u,2,h*(1-heightScale*p))}t.save(),t.beginPath(),t.moveTo(s,n),t.lineTo(s+(r?2:-2)*(numSlices+widthScale),n+h*heightScale*(numSlices+widthScale)/2),t.lineTo(s+(r?2:-2)*(numSlices+widthScale),h*(1-heightScale*(numSlices+widthScale))+n+h*heightScale*(numSlices+widthScale)/2),t.lineTo(s,n+h),t.closePath(),t.clip(),t.fillStyle="rgba(0,0,0,"+Math.round(100*d)/100+")",t.fillRect(0,0,l.width(),l.height()),t.restore()}function n(e,t,i,n,a,o,r,d,g,u,m,v){if(f){if(!e){t*=-1;var w=n;n=i,i=w,w=o,o=a,a=w}setTimeout(function(){i.children("img").css("opacity",l).animate({opacity:1},c/2),a.css("transform","rotateY("+t+"deg)").children("img").css("opacity",1).animate({opacity:l},c/2,function(){a.hide(),o.show().css("transform","rotateY(0deg)").children("img").css("opacity",l).animate({opacity:1},c/2),n.children("img").css("opacity",1).animate({opacity:l},c/2)})},0),setTimeout(v,c)}else if(p){r.show();var y=(new Date,!0);wowAnimate(function(t){var c=jQuery.easing.easeInOutQuint(1,t,0,1,1),p=jQuery.easing.easeInOutCubic(1,t,0,1,1),f=!e;if(.5>t){c*=2,p*=2;var m=a}else{f=e,c=2*(1-c),p=2*(1-p);var m=o}var v=r.height()*h/2,w=(1-c)*r.width()/2,S=1+p*h,T=r.width()/2;s(i,m,T,v,w,S,f,p*l,T,r.height(),d),y&&(u.show(),y=!1),n.clearRect(0,0,g.width(),g.height()),n.fillStyle="rgba(0,0,0,"+(l-p*l)+")",n.fillRect(f?T:0,0,g.width()/2,g.height())},0,1,c,v)}}var a=jQuery,o=a(this),r=a(".ws_list",i),d=a("<div>").addClass("ws_effect ws_book").css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}).appendTo(i),c=e.duration,h=e.perspective||.4,l=e.shadow||.35,p=e.noCanvas||!1,f=e.no3d||!1,g={domPrefixes:" Webkit Moz ms O Khtml".split(" "),testDom:function(e){for(var t=this.domPrefixes.length;t--;)if("undefined"!=typeof document.body.style[this.domPrefixes[t]+e])return!0;return!1},cssTransitions:function(){return this.testDom("Transition")},cssTransforms3d:function(){var e="undefined"!=typeof document.body.style.perspectiveProperty||this.testDom("Perspective");if(e&&/AppleWebKit/.test(navigator.userAgent)){var t=document.createElement("div"),i=document.createElement("style"),s="Test3d"+Math.round(99999*Math.random());i.textContent="@media (-webkit-transform-3d){#"+s+"{height:3px}}",document.getElementsByTagName("head")[0].appendChild(i),t.id=s,document.body.appendChild(t),e=3===t.offsetHeight,i.parentNode.removeChild(i),t.parentNode.removeChild(t)}return e},canvas:function(){return"undefined"!=typeof document.createElement("canvas").getContext?!0:void 0}};f||(f=g.cssTransitions()&&g.cssTransforms3d()),p||(p=g.canvas());var u;this.go=function(e,s,l){if(u)return-1;var g=t.get(e),m=t.get(s);l=void 0==l?0==s&&e!=s+1||e==s-1:!l;var v=a("<div>").appendTo(d),w=a(g);if(w={width:w.width(),height:w.height(),marginLeft:parseFloat(w.css("marginLeft")),marginTop:parseFloat(w.css("marginTop"))},f){var y={background:"#000",position:"absolute",left:0,top:0,width:"100%",height:"100%",transformStyle:"preserve-3d",zIndex:3,outline:"1px solid transparent"};perspect=i.width()*(3-2*h),v.css(y).css({perspective:perspect,transform:"translate3d(0,0,0)"});var S=90,T=a("<div>").css(y).css({position:"relative","float":"left",width:"50%",overflow:"hidden"}).append(a("<img>").attr("src",(l?g:m).src).css(w)).appendTo(v),b=a("<div>").css(y).css({position:"relative","float":"left",width:"50%",overflow:"hidden"}).append(a("<img>").attr("src",(l?m:g).src).css(w).css({marginLeft:-w.width/2})).appendTo(v),x=a("<div>").css(y).css({display:l?"block":"none",width:"50%",transform:"rotateY("+(l?.1:S)+"deg)",transition:(l?"ease-in ":"ease-out ")+c/2e3+"s",transformOrigin:"right",overflow:"hidden"}).append(a("<img>").attr("src",(l?m:g).src).css(w)).appendTo(v),C=a("<div>").css(y).css({display:l?"none":"block",left:"50%",width:"50%",transform:"rotateY(-"+(l?S:.1)+"deg)",transition:(l?"ease-out ":"ease-in ")+c/2e3+"s",transformOrigin:"left",overflow:"hidden"}).append(a("<img>").attr("src",(l?g:m).src).css(w).css({marginLeft:-w.width/2})).appendTo(v)}else if(p)var I=a("<div>").css({position:"absolute",top:0,left:l?0:"50%",width:"50%",height:"100%",overflow:"hidden",zIndex:6}).append(a(t.get(e)).clone().css({position:"absolute",height:"100%",right:l?"auto":0,left:l?0:"auto"})).appendTo(v).hide(),O=a("<div>").css({position:"absolute",width:"100%",height:"100%",left:0,top:0,zIndex:8}).appendTo(v).hide(),k=a("<canvas>").css({position:"absolute",zIndex:2,left:0,top:-O.height()*h/2}).attr({width:O.width(),height:O.height()*(h+1)}).appendTo(O),P=k.clone().css({top:0,zIndex:1}).attr({width:O.width(),height:O.height()}).appendTo(O),Q=k.get(0).getContext("2d"),z=P.get(0).getContext("2d");else r.stop(!0).animate({left:e?-e+"00%":/Safari/.test(navigator.userAgent)?"0%":0},c,"easeInOutExpo");if(!f&&p)var T=Q,b=z,x=m,C=g;u=new n(l,S,T,b,x,C,O,k,P,I,w,function(){o.trigger("effectEnd"),v.remove(),u=0})}}jQuery.extend(jQuery.easing,{easeInOutCubic:function(e,t,i,s,n){return(t/=n/2)<1?s/2*t*t*t+i:s/2*((t-=2)*t*t+2)+i},easeInOutQuint:function(e,t,i,s,n){return(t/=n/2)<1?s/2*t*t*t*t*t+i:s/2*((t-=2)*t*t*t*t+2)+i}});

